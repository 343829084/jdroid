apply plugin: 'com.jdroid.android.library'
apply plugin: 'maven'

description = 'Jdroid Android'

repositories {
	maven {
		url "http://download.crashlytics.com/maven"
	}
}

buildscript {
	dependencies {
		classpath 'com.jdroidframework:jdroid-gradle-plugin:0.7.0-SNAPSHOT'
	}
}

configurations {
	compile.exclude group: "org.apache.httpcomponents",  module: "httpclient"
	compile.exclude group: "org.slf4j",  module: "slf4j-api"
}

dependencies {

	compile 'android.compatibility:android-support-multidex:1.0.0'
	compile 'com.nostra13.universalimageloader:universal-image-loader:1.9.2'
	compile 'android.commonsware:mergeadapter:1.0.1'
	compile 'android.commonsware:sacklist:1.0.0'
	compile 'org.slf4j:slf4j-android:1.6.1-RC1'
	compile 'com.crashlytics.android:crashlytics:1.1.13'
	compile 'com.facebook.android:facebook-android-sdk:3.21.1'

	compile 'com.android.support:support-v4:21.0.3'
	compile 'com.android.support:appcompat-v7:21.0.3'
	compile 'com.android.support:cardview-v7:21.0.3'

	compile 'com.google.android.gms:play-services-ads:6.5.87'
	compile 'com.google.android.gms:play-services-plus:6.5.87'
	compile 'com.google.android.gms:play-services-identity:6.5.87'
	compile 'com.google.android.gms:play-services-maps:6.5.87'
	compile 'com.google.android.gms:play-services-base:6.5.87'

	// Module dependencies
	compile project(':jdroid-java')

//	testCompile 'com.pivotallabs:robolectric:1.2:jar-with-dependencies'
//	testCompile 'junit:junit:4.8.2'
}

group = 'com.jdroidframework'
version = '0.7.0-SNAPSHOT'

jdroid {
	notDefaultLanguages = ['es']
}

android {

	// TODO We will publish the debug version until we discover how to publish both debug and release
	//publishNonDefault true
	defaultPublishConfig "debug"
}

uploadArchives {
	repositories {
		mavenDeployer {
			repository(url: uri('/Users/maxirosson/Dropbox/Public/maven-repository'))
		}
	}
}

task androidSourcesJar(type: Jar) {
	classifier = 'sources'
	from android.sourceSets.main.java.sourceFiles, android.sourceSets.debug.java.sourceFiles
}

artifacts {
	archives androidSourcesJar
}
